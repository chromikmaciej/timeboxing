(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ERROR_SET":return t.timeboxesLoadingError;default:return e}}function a(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"LOADING_INDICATOR_DISABLE":return!1;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOX_EDIT_STOP":return null;case"TIMEBOX_EDIT_START":return t.currentlyEditedTimeboxId;default:return e}}var i=n(22);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOXES_SET":return t.timeboxes;case"TIMEBOX_ADD":var n=t.timebox;return[].concat(Object(i.a)(e),[n]);case"TIMEBOX_REMOVE":var r=t.removedTimebox;return e.filter(function(e){return e.id!==r.id});case"TIMEBOX_REPLACE":var a=t.replacedTimebox;return e.map(function(e){return e.id===a.id?a:e});default:return e}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMEBOX_MAKE_CURRENT":return t.timebox.id;case"TIMEBOX_REMOVE":return e===t.removedTimebox.id?null:e;default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{currentTimeboxId:c(e.currentTimeboxId,t),timeboxes:u(e.timeboxes,t),currentlyEditedTimeboxId:o(e.currentlyEditedTimeboxId,t),timeboxesAreLoading:a(e.timeboxesAreLoading,t),timeboxesLoadingError:r(e.timeboxesLoadingError,t)}}n.d(t,"h",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"g",function(){return b}),n.d(t,"f",function(){return h}),n.d(t,"c",function(){return v});var l=function(e){return function(e){return e}(e.timeboxes)},d=function(e){return function(e){return e.filter(function(t){return t.id!==e.currentTimeboxId})}(e.timeboxes)},m=function(e,t){return function(e,t){return e.find(function(e){return e.id===t})}(e.timeboxes,t)},p=function(e){return e.timeboxesAreLoading},f=function(e){return e.timeboxesLoadingError},b=function(e,t){return e.currentlyEditedTimeboxId&&e.currentlyEditedTimeboxId===t.id},h=function(e){return!!e.currentTimeboxId},v=function(e){return h(e)?m(e,e.currentTimeboxId):null}},14:function(e,t,n){"use strict";var r=n(0),a=n.n(r).a.createContext({accessToken:null});t.a=a},23:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(function(t){setTimeout(t,e)})}n.d(t,"a",function(){return r})},24:function(e,t,n){e.exports=n(38)},30:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),i=n.n(o),u=n(1),c=n(2),s=n(4),l=n(3),d=n(5),m=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={hasError:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log("Wyst\u0105pi\u0142 nast\u0119puj\u0105cy b\u0142\u0105d:",e,t)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.children;return this.state.hasError?t:n}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.a.Component),p=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),n.props.onLoginAttempt({email:n.emailInput.current.value,password:n.passwordInput.current.value}),n.emailInput.current.value="",n.passwordInput.current.value=""},n.emailInput=a.a.createRef(),n.passwordInput=a.a.createRef(),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("form",{onSubmit:this.handleSubmit,className:"LoginForm"},this.props.errorMessage?a.a.createElement("div",{className:"LoginForm__error-message"},this.props.errorMessage):null,a.a.createElement("label",null,"Email",a.a.createElement("input",{ref:this.emailInput,type:"text",defaultValue:"bob@example.com"})),a.a.createElement("br",null),a.a.createElement("label",null,"Has\u0142o",a.a.createElement("input",{ref:this.passwordInput,type:"password",defaultValue:"secret"})),a.a.createElement("br",null),a.a.createElement("button",null,"Zaloguj si\u0119"))}}]),t}(a.a.Component),f=n(14),b=n(8),h=n.n(b),v=n(17),g=(n(23),{login:function(){var e=Object(v.a)(h.a.mark(function e(t){var n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,200;case 2:if(n=t.email,r=t.password,"bob@example.com"!==n||"secret"!==r){e.next=5;break}return e.abrupt("return",{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6I\u2026IyIn0.UubxcVsLsPCIVnyQa546CVCrzSyMahnggB3BTTmpHCM"});case 5:throw new Error("Invalid credentials");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),E=a.a.lazy(function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,236))}),I=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={accessToken:null,previousLoginAttemptFailed:!1},n.handleLoginAttempt=function(e){g.login(e).then(function(e){var t=e.accessToken;n.setState({accessToken:t,previousLoginAttemptFailed:!1})}).catch(function(){n.setState({previousLoginAttemptFailed:!0})})},n.handleLogout=function(){n.setState({accessToken:null,previousLoginAttemptFailed:!1})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isUserLoggedIn",value:function(){return!!this.state.accessToken}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(m,{message:"Co\u015b nie dzia\u0142a w ca\u0142ej aplikacji"},this.isUserLoggedIn()?a.a.createElement(f.a.Provider,{value:{accessToken:this.state.accessToken}},a.a.createElement(a.a.Suspense,{fallback:"... Loading"},a.a.createElement(E,{onLogout:this.handleLogout}))):a.a.createElement(p,{errorMessage:this.state.previousLoginAttemptFailed?"Nie uda\u0142o si\u0119 zalogowa\u0107":null,onLoginAttempt:this.handleLoginAttempt})))}}]),t}(a.a.Component),T=(n(30),n(18)),x=n(6),O=n(13),y=n(12),w=n(21),L=Object(x.createStore)(y.h,Object(w.composeWithDevTools)(Object(x.applyMiddleware)(T.a)));i.a.render(a.a.createElement(O.a,{store:L},a.a.createElement(I,null)),document.getElementById("root"))}},[[24,1,3]]]);
//# sourceMappingURL=main.5d3c9256.chunk.js.map